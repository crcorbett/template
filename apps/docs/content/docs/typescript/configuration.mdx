---
title: TypeScript Configuration
description: Deep dive into tsconfig.base.json and per-project configurations
---

# TypeScript Configuration

This document explains the TypeScript configuration in detail.

## Base Configuration

All packages extend `tsconfig.base.json` at the repository root.

```json title="tsconfig.base.json" lineNumbers
{
  "compilerOptions": {
    // Target and module settings
    "target": "ES2022",
    "module": "ESNext",
    "moduleResolution": "Bundler",
    "lib": ["ES2022", "DOM", "DOM.Iterable"],

    // Strict type checking (all enabled)
    "strict": true,
    "strictNullChecks": true,
    "noUncheckedIndexedAccess": true,
    "exactOptionalPropertyTypes": true,
    "useUnknownInCatchVariables": true,

    // Code quality enforcement
    "noImplicitReturns": true,
    "noFallthroughCasesInSwitch": true,
    "noImplicitOverride": true,
    "noPropertyAccessFromIndexSignature": true,
    "noUnusedLocals": true,
    "noUnusedParameters": true,

    // Module handling
    "skipLibCheck": true,
    "esModuleInterop": true,
    "resolveJsonModule": true,
    "isolatedModules": true,
    "verbatimModuleSyntax": true,
    "jsx": "react-jsx",

    // Build output (for packages)
    "declaration": true,
    "declarationMap": true,
    "composite": true,
    "outDir": "${configDir}/dist",

    // Live types custom condition
    "customConditions": ["@packages/source"]
  },
  "exclude": ["${configDir}/dist", "${configDir}/node_modules"]
}
```

## Key Settings Explained

| Setting                    | Value                  | Purpose                                           |
| -------------------------- | ---------------------- | ------------------------------------------------- |
| `moduleResolution`         | `"Bundler"`            | Modern resolution for Vite/bundler workflows      |
| `composite`                | `true`                 | Enables project references and incremental builds |
| `declaration`              | `true`                 | Generates `.d.ts` files for packages              |
| `declarationMap`           | `true`                 | Enables "Go to Definition" to jump to source      |
| `customConditions`         | `["@packages/source"]` | The live types magic                              |
| `verbatimModuleSyntax`     | `true`                 | Enforces explicit `type` imports/exports          |
| `noUncheckedIndexedAccess` | `true`                 | Safer array/object access                         |

### The `${configDir}` Placeholder

The `${configDir}` placeholder resolves to the directory containing the extending tsconfig:

```json
// In packages/core/tsconfig.json
"outDir": "${configDir}/dist"
// Resolves to: packages/core/dist
```

This keeps output directories relative to each package.

## Package Configuration

Package configs are minimal, inheriting from base:

```json title="packages/core/tsconfig.json"
{
  "extends": "../../tsconfig.base.json",
  "include": ["./src/**/*.ts"]
}
```

Packages are compiled with `tsc` and output to `dist/`.

## App Configuration

Apps have different needs since they're bundled, not compiled:

```json title="apps/web/tsconfig.json"
{
  "extends": "../../tsconfig.base.json",
  "include": ["**/*.ts", "**/*.tsx"],
  "compilerOptions": {
    "noEmit": true,
    "composite": false,
    "baseUrl": ".",
    "paths": {
      "$/*": ["./src/*"],
      "@/*": ["./src/*"]
    }
  }
}
```

### Key Differences from Packages

| Setting     | App Value | Why                                           |
| ----------- | --------- | --------------------------------------------- |
| `noEmit`    | `true`    | Apps are bundled by Vite, not compiled by tsc |
| `composite` | `false`   | Apps aren't consumed by other packages        |
| `paths`     | Custom    | Local aliases for cleaner imports             |

## Root Configuration

The root `tsconfig.json` orchestrates project references:

```json title="tsconfig.json"
{
  "extends": "./tsconfig.base.json",
  "compilerOptions": {
    "noEmit": true,
    "composite": false
  },
  "include": [],
  "references": [
    { "path": "./apps/web" },
    { "path": "./apps/admin" },
    { "path": "./apps/docs" },
    { "path": "./packages/core" },
    { "path": "./packages/api" },
    { "path": "./packages/ui" }
  ]
}
```

**Why `noEmit` and `composite: false`?**

The root config doesn't compile anything - it just orchestrates the project structure for TypeScript's language server.

## Adding a New Package

When adding a new package, create a minimal tsconfig:

```json title="packages/my-package/tsconfig.json"
{
  "extends": "../../tsconfig.base.json",
  "include": ["./src/**/*.ts"]
}
```

Then add it to the root references:

```json title="tsconfig.json"
{
  "references": [
    // ... existing
    { "path": "./packages/my-package" }
  ]
}
```
